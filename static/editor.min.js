(function(){function f(a){this.message=a}f.prototype=Error();f.prototype.name="InvalidCharacterError";function h(a){a=String(a).replace(/=+$/,"");if(1==a.length%4)throw new f("'atob' failed: The string to be decoded is not correctly encoded.");for(var d=0,c,e,b=0,g="";e=a.charAt(b++);~e&&(c=d%4?64*c+e:e,d++%4)?g+=String.fromCharCode(255&c>>(-2*d&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return g}
var k="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||h;function l(a){return decodeURIComponent(k(a).replace(/(.)/g,function(a,c){a=c.charCodeAt(0).toString(16).toUpperCase();2>a.length&&(a="0"+a);return"%"+a}))}function m(a){a=a.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!";}try{return l(a)}catch(d){return k(a)}};p.InvalidTokenError=function(a){this.message=a};p.InvalidTokenError.prototype=Error();p.InvalidTokenError.prototype.name="InvalidTokenError";function p(a,d){if("string"!==typeof a)throw new p.InvalidTokenError("Invalid token specified");d=d||{};d=!0===d.header?0:1;try{return JSON.parse(m(a.split(".")[d]))}catch(c){throw new p.InvalidTokenError("Invalid token specified: "+c.message);}};"function"==typeof window.define&&window.define.amd?window.define("jwt_decode",function(){return p}):window&&(window.jwt_decode=p);function q(a){if("function"==typeof window.TextEncoder)return(new TextEncoder("utf-8")).encode(a);for(var d=Uint8Array,c=0,e=0;e<a.length;++e){var b=a.charCodeAt(e);55296<=b&&57343>=b&&(b=65536+((b&1023)<<10)|a.charCodeAt(++e)&1023);127>=b?++c:c=2047>=b?c+2:65535>=b?c+3:2097151>=b?c+4:67108863>=b?c+5:c+6}d=new d(c);for(e=c=0;e<a.length;++e)b=a.charCodeAt(e),55296<=b&&57343>=b&&(b=65536+((b&1023)<<10)|a.charCodeAt(++e)&1023),127>=b?d[c++]=b:(2047>=b?d[c++]=192|b>>6:(65535>=b?d[c++]=224|b>>12:(2097151>=
b?d[c++]=240|b>>18:(67108863>=b?d[c++]=248|b>>24:(d[c++]=252|b>>30,d[c++]=128|b>>24&63),d[c++]=128|b>>18&63),d[c++]=128|b>>12&63),d[c++]=128|b>>6&63),d[c++]=128|b&63);return d};var r=crypto.subtle||crypto.webkitSubtle,t=document.querySelector("form"),u=document.querySelector("textarea"),v=document.querySelector('[name="token"]'),w=document.querySelector('[name="nonce"]'),x=document.querySelector(".btn-save");t.addEventListener("submit",function(a){a.preventDefault()});
x.addEventListener("click",function(){function a(){b.setUint32(0,g,!1);r.digest("SHA-256",e).then(d)}function d(b){b=new DataView(b);for(var d=0,e=0;32>e;e+=4){var n=b.getUint32(e,!1);if(0==n)d+=32;else{d+=32-Math.floor(Math.log2(n)+1);break}}d>=c.n?(w.value=g,t.submit()):(++g,a())}if(""!=u.value.trim()){var c=p(v.value),e=q(["nonc\tdecoded.salt\tn",u.value.replace(/\r\n/g,"\n")].join("\t"));e.set(c.salt.match(/.{2}/g).map(function(a){return parseInt(a,16)}),5);var b=new DataView(e.buffer);b.setUint8(18,
c.n);var g=0;a()}});}).call(this);
